import Fe from"./Icon.19bfa003.js";import{a as De,N as Le,o as G,f as ye,t as he,O as Se,u as d,i as Oe,e as ne,m as Ce,j as z,k as ge,c as we,H as Me,l as ze,P as $e,r as Be,F as Pe,Q as Ue,R as Ne,I as qe}from"./entry.0f0947e0.js";import{u as Te,a as je,l as We}from"./transactionsStore.cbc79b0f.js";import{_ as Ke}from"./Progress.fa9f6db6.js";import{u as Ve,_ as He}from"./useFinancial.ce7d1fb1.js";import{u as Ye}from"./useDateUtils.f5dea9a8.js";import{u as Qe}from"./resourcesStore.2047b89c.js";import"./config.377048c8.js";const Je=De({__name:"Chip",props:{text:String},setup(X){const{active:_}=Le();return(j,h)=>(G(),ye("div",{class:Se(["chip",{active:d(_)}])},he(X.text),3))}});const Ze=Oe(Je,[["__scopeId","data-v-bf035b2b"]]),Ge={class:"flex gap-2 justify-between w-fit items-center"},Xe={class:"text-white flex items-center gap-2"},et={class:"flex gap-4"},tt=De({__name:"TimeSwitch",setup(X){const _=Te(),j=ne(()=>new Date(_.timestamp).getFullYear()),h=ne(()=>new Date(_.timestamp).toLocaleDateString("pt-BR",{month:"long",year:"numeric",day:"numeric"}).split("de")[1]),m=ne(()=>{const re=new Date(_.timestamp).getFullYear(),r=new Date(_.timestamp).getMonth();return Math.ceil((new Date(re,r+1,0).getDate()+new Date(re,r,1).getDay())/7)}),D=Ce({weekly:604800*1e3,monthly:2629743*1e3,yearly:31556926*1e3}),V=ne(()=>({weekly:`Semana ${m.value} DiaX - DiaY ${h.value}`,monthly:`${h.value} ${j.value}`,yearly:`${new Date(_.timestamp).getFullYear()}`}));return(re,r)=>{const $=Fe,W=Ze;return G(),ye("div",Ge,[z("div",Xe,[ge($,{onClick:r[0]||(r[0]=J=>d(_).timestamp=d(_).timestamp-d(D)[d(_).type]),name:"uil:angle-left-b",class:"cursor-pointer"}),(G(),ye("p",{key:d(_).timestamp},he(d(V)[d(_).type]),1)),ge($,{onClick:r[1]||(r[1]=J=>d(_).timestamp=d(_).timestamp+d(D)[d(_).type]),name:"uim:angle-right-b",class:"cursor-pointer"})]),z("div",et,[(G(),we(W,{key:d(_).type,active:d(_).type==="weekly",onClick:r[2]||(r[2]=J=>d(_).setType("weekly")),text:"Weekly"},null,8,["active"])),(G(),we(W,{key:d(_).type,active:d(_).type==="monthly",onClick:r[3]||(r[3]=J=>d(_).setType("monthly")),text:"Monthly"},null,8,["active"])),(G(),we(W,{key:d(_).type,active:d(_).type==="yearly",onClick:r[4]||(r[4]=J=>d(_).setType("yearly")),text:"Yearly"},null,8,["active"]))])])}}});const nt=Oe(tt,[["__scopeId","data-v-79768bff"]]),rt={class:"flex flex-col p-6 w-full"},st={class:"card__title"},it=z("span",{class:"text-sm text-white mb-4"},"Total no período",-1),at=["text"],ot=["text"],ut=z("hr",{class:"my-4 border-[#3e3e3e]"},null,-1),lt={class:"flex gap-3 flex-col"},ct=["text"],ht={class:"flex justify-between items-center"},dt={class:"text-sm text-white font-medium"},ft={class:"text-xs text-white font-medium"},pt=De({__name:"Card",props:{title:null,relation:null},setup(X){const _=X,j=Te(),{currency:h}=Ve(),{relation:m}=Me(_);return(D,V)=>{const re=Ke,r=He;return G(),we(r,{class:"min-w-[15%]"},{default:ze(()=>[z("div",rt,[z("h1",st,he(X.title),1),it,z("h2",{text:d(m).total,class:"text-4xl text-white font-medium leading-10"},he(d(h)(Math.abs(d(m).total))),9,at),d(m).total?(G(),ye("h2",{key:0,text:d(m).total,class:"text-md text-white font-medium leading-10"},he(d(h)(Math.abs(d(m).total)/d(j).denominador[d(j).type].valor))+"/"+he(d(j).denominador[d(j).type].titulo),9,ot)):$e("",!0),ut,z("div",lt,[(G(!0),ye(Pe,null,Be(d(m).distribution.filter($=>$.percentage),$=>(G(),ye("div",{class:"flex flex-col gap-1",text:$.name},[z("div",ht,[z("span",dt,he($.name),1),z("span",ft,he(d(h)($.percentage/100*d(m).total)),1)]),ge(re,{progress:$.percentage},null,8,["progress"])],8,ct))),256))])])]),_:1})}}});var Ae={exports:{}};/* @license
Papa Parse
v5.4.0
https://github.com/mholt/PapaParse
License: MIT
*/(function(X,_){(function(j,h){X.exports=h()})(Ue,function j(){var h=typeof self<"u"?self:typeof window<"u"?window:h!==void 0?h:{},m=!h.document&&!!h.postMessage,D=h.IS_PAPA_WORKER||!1,V={},re=0,r={parse:function(t,e){var n=(e=e||{}).dynamicTyping||!1;if(x(n)&&(e.dynamicTypingFunction=n,n={}),e.dynamicTyping=n,e.transform=!!x(e.transform)&&e.transform,e.worker&&r.WORKERS_SUPPORTED){var s=function(){if(!r.WORKERS_SUPPORTED)return!1;var c=(B=h.URL||h.webkitURL||null,O=j.toString(),r.BLOB_URL||(r.BLOB_URL=B.createObjectURL(new Blob(["var global = (function() { if (typeof self !== 'undefined') { return self; } if (typeof window !== 'undefined') { return window; } if (typeof global !== 'undefined') { return global; } return {}; })(); global.IS_PAPA_WORKER=true; ","(",O,")();"],{type:"text/javascript"})))),f=new h.Worker(c),B,O;return f.onmessage=p,f.id=re++,V[f.id]=f}();return s.userStep=e.step,s.userChunk=e.chunk,s.userComplete=e.complete,s.userError=e.error,e.step=x(e.step),e.chunk=x(e.chunk),e.complete=x(e.complete),e.error=x(e.error),delete e.worker,void s.postMessage({input:t,config:e,workerId:s.id})}var a=null;return r.NODE_STREAM_INPUT,typeof t=="string"?(t=function(c){return c.charCodeAt(0)===65279?c.slice(1):c}(t),a=e.download?new J(e):new fe(e)):t.readable===!0&&x(t.read)&&x(t.on)?a=new pe(e):(h.File&&t instanceof File||t instanceof Object)&&(a=new de(e)),a.stream(t)},unparse:function(t,e){var n=!1,s=!0,a=",",c=`\r
`,f='"',B=f+f,O=!1,o=null,I=!1;(function(){if(typeof e=="object"){if(typeof e.delimiter!="string"||r.BAD_DELIMITERS.filter(function(i){return e.delimiter.indexOf(i)!==-1}).length||(a=e.delimiter),(typeof e.quotes=="boolean"||typeof e.quotes=="function"||Array.isArray(e.quotes))&&(n=e.quotes),typeof e.skipEmptyLines!="boolean"&&typeof e.skipEmptyLines!="string"||(O=e.skipEmptyLines),typeof e.newline=="string"&&(c=e.newline),typeof e.quoteChar=="string"&&(f=e.quoteChar),typeof e.header=="boolean"&&(s=e.header),Array.isArray(e.columns)){if(e.columns.length===0)throw new Error("Option columns is empty");o=e.columns}e.escapeChar!==void 0&&(B=e.escapeChar+f),(typeof e.escapeFormulae=="boolean"||e.escapeFormulae instanceof RegExp)&&(I=e.escapeFormulae instanceof RegExp?e.escapeFormulae:/^[=+\-@\t\r].*$/)}})();var l=new RegExp(g(f),"g");if(typeof t=="string"&&(t=JSON.parse(t)),Array.isArray(t)){if(!t.length||Array.isArray(t[0]))return ee(null,t,O);if(typeof t[0]=="object")return ee(o||Object.keys(t[0]),t,O)}else if(typeof t=="object")return typeof t.data=="string"&&(t.data=JSON.parse(t.data)),Array.isArray(t.data)&&(t.fields||(t.fields=t.meta&&t.meta.fields||o),t.fields||(t.fields=Array.isArray(t.data[0])?t.fields:typeof t.data[0]=="object"?Object.keys(t.data[0]):[]),Array.isArray(t.data[0])||typeof t.data[0]=="object"||(t.data=[t.data])),ee(t.fields||[],t.data||[],O);throw new Error("Unable to serialize unrecognized input");function ee(i,C,N){var T="";typeof i=="string"&&(i=JSON.parse(i)),typeof C=="string"&&(C=JSON.parse(C));var P=Array.isArray(i)&&0<i.length,F=!Array.isArray(C[0]);if(P&&s){for(var L=0;L<i.length;L++)0<L&&(T+=a),T+=U(i[L],L);0<C.length&&(T+=c)}for(var u=0;u<C.length;u++){var v=P?i.length:C[u].length,E=!1,M=P?Object.keys(C[u]).length===0:C[u].length===0;if(N&&!P&&(E=N==="greedy"?C[u].join("").trim()==="":C[u].length===1&&C[u][0].length===0),N==="greedy"&&P){for(var b=[],q=0;q<v;q++){var S=F?i[q]:q;b.push(C[u][S])}E=b.join("").trim()===""}if(!E){for(var w=0;w<v;w++){0<w&&!M&&(T+=a);var oe=P&&F?i[w]:w;T+=U(C[u][oe],w)}u<C.length-1&&(!N||0<v&&!M)&&(T+=c)}}return T}function U(i,C){if(i==null)return"";if(i.constructor===Date)return JSON.stringify(i).slice(1,25);var N=!1;I&&typeof i=="string"&&I.test(i)&&(i="'"+i,N=!0);var T=i.toString().replace(l,B);return(N=N||n===!0||typeof n=="function"&&n(i,C)||Array.isArray(n)&&n[C]||function(P,F){for(var L=0;L<F.length;L++)if(-1<P.indexOf(F[L]))return!0;return!1}(T,r.BAD_DELIMITERS)||-1<T.indexOf(a)||T.charAt(0)===" "||T.charAt(T.length-1)===" ")?f+T+f:T}}};if(r.RECORD_SEP=String.fromCharCode(30),r.UNIT_SEP=String.fromCharCode(31),r.BYTE_ORDER_MARK="\uFEFF",r.BAD_DELIMITERS=["\r",`
`,'"',r.BYTE_ORDER_MARK],r.WORKERS_SUPPORTED=!m&&!!h.Worker,r.NODE_STREAM_INPUT=1,r.LocalChunkSize=10485760,r.RemoteChunkSize=5242880,r.DefaultDelimiter=",",r.Parser=y,r.ParserHandle=xe,r.NetworkStreamer=J,r.FileStreamer=de,r.StringStreamer=fe,r.ReadableStreamStreamer=pe,h.jQuery){var $=h.jQuery;$.fn.parse=function(t){var e=t.config||{},n=[];return this.each(function(c){if(!($(this).prop("tagName").toUpperCase()==="INPUT"&&$(this).attr("type").toLowerCase()==="file"&&h.FileReader)||!this.files||this.files.length===0)return!0;for(var f=0;f<this.files.length;f++)n.push({file:this.files[f],inputElem:this,instanceConfig:$.extend({},e)})}),s(),this;function s(){if(n.length!==0){var c,f,B,O,o=n[0];if(x(t.before)){var I=t.before(o.file,o.inputElem);if(typeof I=="object"){if(I.action==="abort")return c="AbortError",f=o.file,B=o.inputElem,O=I.reason,void(x(t.error)&&t.error({name:c},f,B,O));if(I.action==="skip")return void a();typeof I.config=="object"&&(o.instanceConfig=$.extend(o.instanceConfig,I.config))}else if(I==="skip")return void a()}var l=o.instanceConfig.complete;o.instanceConfig.complete=function(ee){x(l)&&l(ee,o.file,o.inputElem),a()},r.parse(o.file,o.instanceConfig)}else x(t.complete)&&t.complete()}function a(){n.splice(0,1),s()}}}function W(t){this._handle=null,this._finished=!1,this._completed=!1,this._halted=!1,this._input=null,this._baseIndex=0,this._partialLine="",this._rowCount=0,this._start=0,this._nextChunk=null,this.isFirstChunk=!0,this._completeResults={data:[],errors:[],meta:{}},function(e){var n=Ee(e);n.chunkSize=parseInt(n.chunkSize),e.step||e.chunk||(n.chunkSize=null),this._handle=new xe(n),(this._handle.streamer=this)._config=n}.call(this,t),this.parseChunk=function(e,n){if(this.isFirstChunk&&x(this._config.beforeFirstChunk)){var s=this._config.beforeFirstChunk(e);s!==void 0&&(e=s)}this.isFirstChunk=!1,this._halted=!1;var a=this._partialLine+e;this._partialLine="";var c=this._handle.parse(a,this._baseIndex,!this._finished);if(!this._handle.paused()&&!this._handle.aborted()){var f=c.meta.cursor;this._finished||(this._partialLine=a.substring(f-this._baseIndex),this._baseIndex=f),c&&c.data&&(this._rowCount+=c.data.length);var B=this._finished||this._config.preview&&this._rowCount>=this._config.preview;if(D)h.postMessage({results:c,workerId:r.WORKER_ID,finished:B});else if(x(this._config.chunk)&&!n){if(this._config.chunk(c,this._handle),this._handle.paused()||this._handle.aborted())return void(this._halted=!0);c=void 0,this._completeResults=void 0}return this._config.step||this._config.chunk||(this._completeResults.data=this._completeResults.data.concat(c.data),this._completeResults.errors=this._completeResults.errors.concat(c.errors),this._completeResults.meta=c.meta),this._completed||!B||!x(this._config.complete)||c&&c.meta.aborted||(this._config.complete(this._completeResults,this._input),this._completed=!0),B||c&&c.meta.paused||this._nextChunk(),c}this._halted=!0},this._sendError=function(e){x(this._config.error)?this._config.error(e):D&&this._config.error&&h.postMessage({workerId:r.WORKER_ID,error:e,finished:!1})}}function J(t){var e;(t=t||{}).chunkSize||(t.chunkSize=r.RemoteChunkSize),W.call(this,t),this._nextChunk=m?function(){this._readChunk(),this._chunkLoaded()}:function(){this._readChunk()},this.stream=function(n){this._input=n,this._nextChunk()},this._readChunk=function(){if(this._finished)this._chunkLoaded();else{if(e=new XMLHttpRequest,this._config.withCredentials&&(e.withCredentials=this._config.withCredentials),m||(e.onload=ae(this._chunkLoaded,this),e.onerror=ae(this._chunkError,this)),e.open(this._config.downloadRequestBody?"POST":"GET",this._input,!m),this._config.downloadRequestHeaders){var n=this._config.downloadRequestHeaders;for(var s in n)e.setRequestHeader(s,n[s])}if(this._config.chunkSize){var a=this._start+this._config.chunkSize-1;e.setRequestHeader("Range","bytes="+this._start+"-"+a)}try{e.send(this._config.downloadRequestBody)}catch(c){this._chunkError(c.message)}m&&e.status===0&&this._chunkError()}},this._chunkLoaded=function(){e.readyState===4&&(e.status<200||400<=e.status?this._chunkError():(this._start+=this._config.chunkSize?this._config.chunkSize:e.responseText.length,this._finished=!this._config.chunkSize||this._start>=function(n){var s=n.getResponseHeader("Content-Range");return s===null?-1:parseInt(s.substring(s.lastIndexOf("/")+1))}(e),this.parseChunk(e.responseText)))},this._chunkError=function(n){var s=e.statusText||n;this._sendError(new Error(s))}}function de(t){var e,n;(t=t||{}).chunkSize||(t.chunkSize=r.LocalChunkSize),W.call(this,t);var s=typeof FileReader<"u";this.stream=function(a){this._input=a,n=a.slice||a.webkitSlice||a.mozSlice,s?((e=new FileReader).onload=ae(this._chunkLoaded,this),e.onerror=ae(this._chunkError,this)):e=new FileReaderSync,this._nextChunk()},this._nextChunk=function(){this._finished||this._config.preview&&!(this._rowCount<this._config.preview)||this._readChunk()},this._readChunk=function(){var a=this._input;if(this._config.chunkSize){var c=Math.min(this._start+this._config.chunkSize,this._input.size);a=n.call(a,this._start,c)}var f=e.readAsText(a,this._config.encoding);s||this._chunkLoaded({target:{result:f}})},this._chunkLoaded=function(a){this._start+=this._config.chunkSize,this._finished=!this._config.chunkSize||this._start>=this._input.size,this.parseChunk(a.target.result)},this._chunkError=function(){this._sendError(e.error)}}function fe(t){var e;W.call(this,t=t||{}),this.stream=function(n){return e=n,this._nextChunk()},this._nextChunk=function(){if(!this._finished){var n,s=this._config.chunkSize;return s?(n=e.substring(0,s),e=e.substring(s)):(n=e,e=""),this._finished=!e,this.parseChunk(n)}}}function pe(t){W.call(this,t=t||{});var e=[],n=!0,s=!1;this.pause=function(){W.prototype.pause.apply(this,arguments),this._input.pause()},this.resume=function(){W.prototype.resume.apply(this,arguments),this._input.resume()},this.stream=function(a){this._input=a,this._input.on("data",this._streamData),this._input.on("end",this._streamEnd),this._input.on("error",this._streamError)},this._checkIsFinished=function(){s&&e.length===1&&(this._finished=!0)},this._nextChunk=function(){this._checkIsFinished(),e.length?this.parseChunk(e.shift()):n=!0},this._streamData=ae(function(a){try{e.push(typeof a=="string"?a:a.toString(this._config.encoding)),n&&(n=!1,this._checkIsFinished(),this.parseChunk(e.shift()))}catch(c){this._streamError(c)}},this),this._streamError=ae(function(a){this._streamCleanUp(),this._sendError(a)},this),this._streamEnd=ae(function(){this._streamCleanUp(),s=!0,this._streamData("")},this),this._streamCleanUp=ae(function(){this._input.removeListener("data",this._streamData),this._input.removeListener("end",this._streamEnd),this._input.removeListener("error",this._streamError)},this)}function xe(t){var e,n,s,a=Math.pow(2,53),c=-a,f=/^\s*-?(\d+\.?|\.\d+|\d+\.\d+)([eE][-+]?\d+)?\s*$/,B=/^((\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z))|(\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d([+-][0-2]\d:[0-5]\d|Z)))$/,O=this,o=0,I=0,l=!1,ee=!1,U=[],i={data:[],errors:[],meta:{}};if(x(t.step)){var C=t.step;t.step=function(u){if(i=u,P())T();else{if(T(),i.data.length===0)return;o+=u.data.length,t.preview&&o>t.preview?n.abort():(i.data=i.data[0],C(i,O))}}}function N(u){return t.skipEmptyLines==="greedy"?u.join("").trim()==="":u.length===1&&u[0].length===0}function T(){return i&&s&&(L("Delimiter","UndetectableDelimiter","Unable to auto-detect delimiting character; defaulted to '"+r.DefaultDelimiter+"'"),s=!1),t.skipEmptyLines&&(i.data=i.data.filter(function(u){return!N(u)})),P()&&function(){if(!i)return;function u(E,M){x(t.transformHeader)&&(E=t.transformHeader(E,M)),U.push(E)}if(Array.isArray(i.data[0])){for(var v=0;P()&&v<i.data.length;v++)i.data[v].forEach(u);i.data.splice(0,1)}else i.data.forEach(u)}(),function(){if(!i||!t.header&&!t.dynamicTyping&&!t.transform)return i;function u(E,M){var b,q=t.header?{}:[];for(b=0;b<E.length;b++){var S=b,w=E[b];t.header&&(S=b>=U.length?"__parsed_extra":U[b]),t.transform&&(w=t.transform(w,S)),w=F(S,w),S==="__parsed_extra"?(q[S]=q[S]||[],q[S].push(w)):q[S]=w}return t.header&&(b>U.length?L("FieldMismatch","TooManyFields","Too many fields: expected "+U.length+" fields but parsed "+b,I+M):b<U.length&&L("FieldMismatch","TooFewFields","Too few fields: expected "+U.length+" fields but parsed "+b,I+M)),q}var v=1;return!i.data.length||Array.isArray(i.data[0])?(i.data=i.data.map(u),v=i.data.length):i.data=u(i.data,0),t.header&&i.meta&&(i.meta.fields=U),I+=v,i}()}function P(){return t.header&&U.length===0}function F(u,v){return E=u,t.dynamicTypingFunction&&t.dynamicTyping[E]===void 0&&(t.dynamicTyping[E]=t.dynamicTypingFunction(E)),(t.dynamicTyping[E]||t.dynamicTyping)===!0?v==="true"||v==="TRUE"||v!=="false"&&v!=="FALSE"&&(function(M){if(f.test(M)){var b=parseFloat(M);if(c<b&&b<a)return!0}return!1}(v)?parseFloat(v):B.test(v)?new Date(v):v===""?null:v):v;var E}function L(u,v,E,M){var b={type:u,code:v,message:E};M!==void 0&&(b.row=M),i.errors.push(b)}this.parse=function(u,v,E){var M=t.quoteChar||'"';if(t.newline||(t.newline=function(S,w){S=S.substring(0,1048576);var oe=new RegExp(g(w)+"([^]*?)"+g(w),"gm"),Z=(S=S.replace(oe,"")).split("\r"),te=S.split(`
`),se=1<te.length&&te[0].length<Z[0].length;if(Z.length===1||se)return`
`;for(var H=0,R=0;R<Z.length;R++)Z[R][0]===`
`&&H++;return H>=Z.length/2?`\r
`:"\r"}(u,M)),s=!1,t.delimiter)x(t.delimiter)&&(t.delimiter=t.delimiter(u),i.meta.delimiter=t.delimiter);else{var b=function(S,w,oe,Z,te){var se,H,R,A;te=te||[",","	","|",";",r.RECORD_SEP,r.UNIT_SEP];for(var _e=0;_e<te.length;_e++){var k=te[_e],ke=0,ie=0,me=0;R=void 0;for(var ue=new y({comments:Z,delimiter:k,newline:w,preview:10}).parse(S),le=0;le<ue.data.length;le++)if(oe&&N(ue.data[le]))me++;else{var ce=ue.data[le].length;ie+=ce,R!==void 0?0<ce&&(ke+=Math.abs(ce-R),R=ce):R=ce}0<ue.data.length&&(ie/=ue.data.length-me),(H===void 0||ke<=H)&&(A===void 0||A<ie)&&1.99<ie&&(H=ke,se=k,A=ie)}return{successful:!!(t.delimiter=se),bestDelimiter:se}}(u,t.newline,t.skipEmptyLines,t.comments,t.delimitersToGuess);b.successful?t.delimiter=b.bestDelimiter:(s=!0,t.delimiter=r.DefaultDelimiter),i.meta.delimiter=t.delimiter}var q=Ee(t);return t.preview&&t.header&&q.preview++,e=u,n=new y(q),i=n.parse(e,v,E),T(),l?{meta:{paused:!0}}:i||{meta:{paused:!1}}},this.paused=function(){return l},this.pause=function(){l=!0,n.abort(),e=x(t.chunk)?"":e.substring(n.getCharIndex())},this.resume=function(){O.streamer._halted?(l=!1,O.streamer.parseChunk(e,!0)):setTimeout(O.resume,3)},this.aborted=function(){return ee},this.abort=function(){ee=!0,n.abort(),i.meta.aborted=!0,x(t.complete)&&t.complete(i),e=""}}function g(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function y(t){var e,n=(t=t||{}).delimiter,s=t.newline,a=t.comments,c=t.step,f=t.preview,B=t.fastMode,O=e=t.quoteChar===void 0||t.quoteChar===null?'"':t.quoteChar;if(t.escapeChar!==void 0&&(O=t.escapeChar),(typeof n!="string"||-1<r.BAD_DELIMITERS.indexOf(n))&&(n=","),a===n)throw new Error("Comment character same as delimiter");a===!0?a="#":(typeof a!="string"||-1<r.BAD_DELIMITERS.indexOf(a))&&(a=!1),s!==`
`&&s!=="\r"&&s!==`\r
`&&(s=`
`);var o=0,I=!1;this.parse=function(l,ee,U){if(typeof l!="string")throw new Error("Input must be a string");var i=l.length,C=n.length,N=s.length,T=a.length,P=x(c),F=[],L=[],u=[],v=o=0;if(!l)return Y();if(t.header){var E=l.split(s)[0].split(n),M=[],b={},q=!1;for(var S in E){var w=E[S];x(t.transformHeader)&&(w=t.transformHeader(w,S));var oe=w,Z=b[w]||0;0<Z&&(q=!0,oe=w+"_"+Z),b[w]=Z+1,M.push(oe)}if(q){var te=l.split(s);te[0]=M.join(n),l=te.join(s)}}if(B||B!==!1&&l.indexOf(e)===-1){for(var se=l.split(s),H=0;H<se.length;H++){if(u=se[H],o+=u.length,H!==se.length-1)o+=s.length;else if(U)return Y();if(!a||u.substring(0,T)!==a){if(P){if(F=[],me(u.split(n)),be(),I)return Y()}else me(u.split(n));if(f&&f<=H)return F=F.slice(0,f),Y(!0)}}return Y()}for(var R=l.indexOf(n,o),A=l.indexOf(s,o),_e=new RegExp(g(O)+g(e),"g"),k=l.indexOf(e,o);;)if(l[o]!==e)if(a&&u.length===0&&l.substring(o,o+T)===a){if(A===-1)return Y();o=A+N,A=l.indexOf(s,o),R=l.indexOf(n,o)}else if(R!==-1&&(R<A||A===-1))u.push(l.substring(o,R)),o=R+C,R=l.indexOf(n,o);else{if(A===-1)break;if(u.push(l.substring(o,A)),ce(A+N),P&&(be(),I))return Y();if(f&&F.length>=f)return Y(!0)}else for(k=o,o++;;){if((k=l.indexOf(e,k+1))===-1)return U||L.push({type:"Quotes",code:"MissingQuotes",message:"Quoted field unterminated",row:F.length,index:o}),le();if(k===i-1)return le(l.substring(o,k).replace(_e,e));if(e!==O||l[k+1]!==O){if(e===O||k===0||l[k-1]!==O){R!==-1&&R<k+1&&(R=l.indexOf(n,k+1)),A!==-1&&A<k+1&&(A=l.indexOf(s,k+1));var ke=ue(A===-1?R:Math.min(R,A));if(l.substr(k+1+ke,C)===n){u.push(l.substring(o,k).replace(_e,e)),l[o=k+1+ke+C]!==e&&(k=l.indexOf(e,o)),R=l.indexOf(n,o),A=l.indexOf(s,o);break}var ie=ue(A);if(l.substring(k+1+ie,k+1+ie+N)===s){if(u.push(l.substring(o,k).replace(_e,e)),ce(k+1+ie+N),R=l.indexOf(n,o),k=l.indexOf(e,o),P&&(be(),I))return Y();if(f&&F.length>=f)return Y(!0);break}L.push({type:"Quotes",code:"InvalidQuotes",message:"Trailing quote on quoted field is malformed",row:F.length,index:o}),k++}}else k++}return le();function me(Q){F.push(Q),v=o}function ue(Q){var Ie=0;if(Q!==-1){var Re=l.substring(k+1,Q);Re&&Re.trim()===""&&(Ie=Re.length)}return Ie}function le(Q){return U||(Q===void 0&&(Q=l.substring(o)),u.push(Q),o=i,me(u),P&&be()),Y()}function ce(Q){o=Q,me(u),u=[],A=l.indexOf(s,o)}function Y(Q){return{data:F,errors:L,meta:{delimiter:n,linebreak:s,aborted:I,truncated:!!Q,cursor:v+(ee||0)}}}function be(){c(Y()),F=[],L=[]}},this.abort=function(){I=!0},this.getCharIndex=function(){return o}}function p(t){var e=t.data,n=V[e.workerId],s=!1;if(e.error)n.userError(e.error,e.file);else if(e.results&&e.results.data){var a={abort:function(){s=!0,K(e.workerId,{data:[],errors:[],meta:{aborted:!0}})},pause:ve,resume:ve};if(x(n.userStep)){for(var c=0;c<e.results.data.length&&(n.userStep({data:e.results.data[c],errors:e.results.errors,meta:e.results.meta},a),!s);c++);delete e.results}else x(n.userChunk)&&(n.userChunk(e.results,a,e.file),delete e.results)}e.finished&&!s&&K(e.workerId,e.results)}function K(t,e){var n=V[t];x(n.userComplete)&&n.userComplete(e),n.terminate(),delete V[t]}function ve(){throw new Error("Not implemented.")}function Ee(t){if(typeof t!="object"||t===null)return t;var e=Array.isArray(t)?[]:{};for(var n in t)e[n]=Ee(t[n]);return e}function ae(t,e){return function(){t.apply(e,arguments)}}function x(t){return typeof t=="function"}return D&&(h.onmessage=function(t){var e=t.data;if(r.WORKER_ID===void 0&&e&&(r.WORKER_ID=e.workerId),typeof e.input=="string")h.postMessage({workerId:r.WORKER_ID,results:r.parse(e.input,e.config),finished:!0});else if(h.File&&e.input instanceof File||e.input instanceof Object){var n=r.parse(e.input,e.config);n&&h.postMessage({workerId:r.WORKER_ID,results:n,finished:!0})}}),(J.prototype=Object.create(W.prototype)).constructor=J,(de.prototype=Object.create(W.prototype)).constructor=de,(fe.prototype=Object.create(fe.prototype)).constructor=fe,(pe.prototype=Object.create(W.prototype)).constructor=pe,r})})(Ae);var _t=Ae.exports;const mt=Ne(_t),gt=()=>{function X(h){return console.log("inc: ",h),h.filter(m=>m.Valor>0).map(m=>m.Valor).reduce((m,D)=>m+D,0)}function _(h){const m=Ce(["Rendimentos","Dividendos","Proventos","JCP"]);return h.filter(D=>D.Valor>0).filter(D=>m.value.includes(D.Subcategoria)).map(D=>D.Valor).reduce((D,V)=>D+V,0)}function j(h){return console.log("exp: ",h),h.filter(m=>m.Valor<0).map(m=>m.Valor).reduce((m,D)=>m+D,0)}return{incomes:X,revenues:_,expenses:j}};const yt={class:"flex flex-col bg-base w-full"},vt={class:"flex items-center w-full justify-center"},kt={class:"gap-4 grid grid-cols-2 p-4"},xt={class:"grid grid-cols-3 gap-2 h-fit"},bt={class:"flex justify-end"},wt={for:"file",class:"bg-[#42b4d8] text-white font-medium px-4 py-2 rounded"},Ct={__name:"home",setup(X){const{incomes:_,revenues:j,expenses:h}=gt(),m=Ce(void 0),D=Ce(void 0),{parseDate:V}=Ye(),re=Te(),r=Qe(),$=ne(()=>{const g=r.transactionsByResources.map(p=>_(p.transactions)).reduce((p,K)=>p+K,0),y=r.transactionsByResources.map(p=>({name:p.agregador,percentage:Math.abs(_(p.transactions))*100/Math.abs(g)}));return{total:g,distribution:y}}),W=ne(()=>{const g=r.transactionsByResources.map(p=>h(p.transactions)).reduce((p,K)=>p+K,0),y=r.transactionsByResources.map(p=>({name:p.agregador,percentage:Math.abs(h(p.transactions))*100/Math.abs(g)}));return{total:g,distribution:y}}),J=ne(()=>{const g=r.transactionsByResources.map(p=>j(p.transactions)).reduce((p,K)=>p+K,0),y=r.transactionsByResources.map(p=>({name:p.agregador,percentage:Math.abs(j(p.transactions))*100/Math.abs(g)}));return{total:g,distribution:y}});ne(()=>transactionsByResource.value.map(g=>Object.assign(g,{incomes:g.transactions.filter(y=>y.Valor>0).map(y=>y.Valor).reduce((y,p)=>y+p,0)})));const de=ne(()=>{const g=new Date(lastTransaction.value.timestamp);return{month:g.getMonth(),year:g.getFullYear()}});ne(()=>{const g=new Date,{month:y,year:p}=de.value,K=new Date(lastTransaction.value.timestamp).getDate(),ve=We.isEqual({month:g.getMonth(),year:g.getFullYear()},de.value);return{dia:K,stamp:ve?"This month":new Date(lastTransaction.value.timestamp).toLocaleDateString(navigator.language,{month:"short",day:"numeric"}),progress:K*100/new Date(p,y+1,0).getDate(),thatDy:new Date(p,y+1,0).getDate()}});function fe(g){g.forEach(y=>{y.timestamp=V(y.Data),y.Valor=Number(y.Valor)}),m.value=g,re.setTransactions(g)}async function pe(g){console.log(g);let y=[];await mt.parse(g[0],{delimiter:";",header:!0,complete:async function(p){fe(p.data)}}),console.log(y),y.forEach(p=>{V(p.Data)})}const{isOverDropZone:xe}=je(D,pe);return(g,y)=>{const p=nt,K=pt;return G(),ye("div",yt,[z("div",vt,[ge(p)]),z("div",kt,[z("div",xt,[ge(K,{title:"Incomes",relation:d($)},null,8,["relation"]),ge(K,{title:"Expenses",relation:d(W)},null,8,["relation"]),ge(K,{title:"Revenues",relation:d(J)},null,8,["relation"])]),z("div",bt,[z("div",{class:Se(["dropzone",{over:d(xe)}]),ref_key:"dropzone",ref:D},[z("label",wt,[qe(" Importar transaçoes "),z("input",{class:"hidden",id:"file",type:"file",name:"",onChange:y[0]||(y[0]=ve=>pe(ve.target.files))},null,32)])],2)])])])}}},Ft=Oe(Ct,[["__scopeId","data-v-dd2c20b4"]]);export{Ft as default};
