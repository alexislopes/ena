import{u as y,a as C,_ as P}from"./useFinancial.ce7d1fb1.js";import{u as k}from"./useSupabaseClient.e20f78cf.js";import{a as A,w as B,A as j,E as D,o as _,f,F,r as I,c as E,l as S,j as s,t,u as e}from"./entry.0f0947e0.js";import{u as U}from"./useDateUtils.f5dea9a8.js";import{u as q}from"./purchases.21408b47.js";const z={class:"bg-base w-full text-white flex gap-4"},L=s("span",{class:"bg-green-100 text-green-800 text-sm font-medium mr-2 px-2.5 py-0.5 rounded dark:bg-green-900 dark:text-green-300 w-fit mb-3"},"Rolando",-1),M={class:"card__title"},N={class:"flex justify-center flex-col items-center"},R={class:"text-2xl font-bold"},V=s("p",{class:"text-sm"},"Parcela",-1),G={class:"mt-4"},H=s("span",{class:"font-medium"},"Investimento",-1),J={class:"flex justify-between bg-[#3e3e3e] p-2 rounded-md"},K={class:"flex flex-col"},O={class:"font-medium"},Q=s("span",{class:"text-sm"},"Investido",-1),T={class:"flex flex-col"},W={class:"font-medium"},X=s("span",{class:"text-end text-sm"},"A pagar",-1),Y={class:"mt-4"},Z=s("span",{class:"font-medium"},"Prazo",-1),$={class:"flex justify-between bg-[#3e3e3e] p-2 rounded-md"},ss={class:"flex flex-col"},es={class:"font-medium"},ts=s("span",{class:"text-sm"},"Inicio",-1),as={class:"flex flex-col"},os={class:"font-medium"},ns=s("span",{class:"text-end text-sm"},"Fim",-1),ps=A({__name:"purchases",async setup(cs){let a,d;const{currency:o}=y(),{formatDate:m}=U(),{calculaParcela:h,calculaAPagar:x}=q(),n=k();let c;const{data:b,refresh:g}=([a,d]=B(async()=>C("compras",async()=>{const{data:u}=await n.from("compras").select("descricao, id, investimento, data_inicio, data_fim, taxa, conta (id, nome, quantia)");return u})),a=await a,d(),a);return j(()=>{c=n.channel("public:compras").on("postgres_changes",{event:"*",schema:"public",table:"compras"},()=>g()),c.subscribe()}),D(()=>{n.removeChannel(c)}),(u,ls)=>{const v=P;return _(),f("div",z,[(_(!0),f(F,null,I(e(b),({descricao:w,investimento:l,taxa:p,data_inicio:i,data_fim:r,id:is})=>(_(),E(v,{class:"flex flex-col min-w-[18%] h-fit p-4"},{default:S(()=>[L,s("span",M,t(w),1),s("div",N,[s("span",R,t(e(o)(e(h)({investimento:l,taxa:p,data_inicio:i,data_fim:r}))),1),V]),s("div",G,[H,s("div",J,[s("div",K,[s("span",O,t(e(o)(l)),1),Q]),s("div",T,[s("span",W,t(e(o)(e(x)({investimento:l,taxa:p,data_inicio:i,data_fim:r}))),1),X])])]),s("div",Y,[Z,s("div",$,[s("div",ss,[s("span",es,t(e(m)(i)),1),ts]),s("div",as,[s("span",os,t(e(m)(r)),1),ns])])])]),_:2},1024))),256))])}}});export{ps as default};
